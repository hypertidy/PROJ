<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PROJ • PROJ</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="PROJ">
<meta property="og:description" content="PROJ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PROJ</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.5.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/PROJ.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hypertidy/PROJ/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>PROJ</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/hypertidy/PROJ/blob/HEAD/vignettes/PROJ.Rmd" class="external-link"><code>vignettes/PROJ.Rmd</code></a></small>
      <div class="hidden name"><code>PROJ.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="what-is-proj">What is PROJ?<a class="anchor" aria-label="anchor" href="#what-is-proj"></a>
</h2>
<p>Generic map projection transformations on raw data.</p>
<p>We use the <a href="https://proj.org/" class="external-link">PROJ library</a> to perform
projection transformations on raw data. We can use a matrix or data
frame of 2, 3, or 4 columns and these are assumed (if present) to be
“x”, “y”, “z”, and “t” (time: modern transformations allow a
<em>temporal</em> component as the shape of the earth and our models of
it do change over time).</p>
<p>The transformation idiom used is 1) provide raw coordinates; 2)
specify their source projection; 3) specify their target projection.</p>
<p>We enter into the coordinate order debacle of the <a href="https://www.ogc.org/" class="external-link">OGC</a> for longitude, latitude by
precluding other options. We use longitude, latitude order.</p>
</div>
<div class="section level2">
<h2 id="why-proj">Why PROJ?<a class="anchor" aria-label="anchor" href="#why-proj"></a>
</h2>
<p>This package was created to leverage the modern transformation
capabilities of <a href="https://proj.org/" class="external-link">PROJ</a> itself from version
6 and above. There’s no other package in R that allows generic
transformations directly from the PROJ library, and this package
provides that along with these goals:</p>
<ul>
<li>no other dependencies (PROJ library is it, and R)</li>
<li>allow geocentric transformations, and 3D and 4D transformations
generally.</li>
<li>provide no interpretation or restrictions on source or target
projection specification</li>
<li>do not require special formats, we use numeric vectors in matrix or
data frame form</li>
</ul>
</div>
<div class="section level2">
<h2 id="what-systems-are-supported">What systems are supported?<a class="anchor" aria-label="anchor" href="#what-systems-are-supported"></a>
</h2>
<ul>
<li>Windows - on CRAN the PROJ is available as a binary package, PROJ 6
(or higher) is bundled in with the binary package.</li>
<li>Linux - the PROJ package will use your system PROJ library, it must
be version 6 (or higher).</li>
<li>Mac - on CRAN there are binaries, PROJ 6.3.1 since mid 2020</li>
</ul>
<p>Binaries means that the package comes with everything it needs, you
don’t need to install PROJ library in the system. If you do install PROJ
library yourself, say with brew on MacOS, then the from-source install
should also just work. There’s no need to specify the location of file
folders, as long as proj itself is working and available.</p>
</div>
<div class="section level2">
<h2 id="how-to-use-proj">How to use PROJ?<a class="anchor" aria-label="anchor" href="#how-to-use-proj"></a>
</h2>
<p>Get the package installed, load it and use the function
<code><a href="../reference/proj_trans.html">proj_trans()</a></code>.</p>
<p>If you don’t have system PROJ version 6 (or higher) the function will
fail.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/PROJ" class="external-link">PROJ</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/proj_trans.html">proj_trans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">147</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="op">-</span><span class="fl">42</span><span class="op">)</span><span class="op">)</span>, z_ <span class="op">=</span> <span class="fl">0</span>, target <span class="op">=</span> <span class="st">"+proj=laea +datum=WGS84"</span>, source <span class="op">=</span> <span class="st">"WGS84"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $x_</span></span>
<span><span class="co">#&gt; [1]       0 5969744</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $y_</span></span>
<span><span class="co">#&gt; [1]        0 -9803200</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $z_</span></span>
<span><span class="co">#&gt; [1] 0 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $t_</span></span>
<span><span class="co">#&gt; [1] 0 0</span></span></code></pre></div>
<p>Note that we always assume input of
<code>cbind(longitude, latitude)</code> and can optionally provide a
vector of <code>z_</code> as well as <code>t_</code>. We cannot provide
a 3 or 4 column matrix, z and t must be provided separately as named
arguments.</p>
<p>Note that various forms of projection string are supported, we can
use PROJ.4 style (as per target above), bare names from <a href="https://epsg.org/home.html" class="external-link">EPSG</a> (as per source above),
full-blown WKT2 strings, or ‘auth:code’ forms such as “epsg:3857”. (Note
that “+init=…” forms cannot be used in 6 or above).</p>
<p>The goal is for the <a href="https://CRAN.r-project.org/package=reproj" class="external-link">reproj package</a> to
wrap this package. In time that will be the easiest way to run
coordinate transformations with PROJ for versions 4, 5, 6, 7 or
above.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
